@using AutoCareHub.Web.Models.Services
@model List<ServiceViewModel>

<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="lib/flaticon/font/flaticon.css" rel="stylesheet">
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="~/css/style.css" rel="stylesheet">
</head>
<body>
    <div class="blog">
        <div class="container">
            <div class="section-header text-center">
                <p>Our Blog</p>
                <h2>Latest news & articles</h2>
            </div>
            <div class="row" style="height:120px;">
                @foreach (ServiceViewModel service in Model)
                {
                    <div class="col-lg-4">
                        <div class="blog-item">
                            <div class="blog-img">
                                <img style="max-height:270px;" src="@service.ImageUrl" alt="Image">
                                <div class="meta-date">
                                        <span>View</span>
                                        <strong>More</strong>
                                </div>
                            </div>
                            <div class="blog-text">
                                <h3><a asp-controller="Service" asp-action="Get" asp-route-id="@service.Id">@service.Name</a></h3>
                                @if (service.Description.Length > 250)
                                {
                                    <p>@service.Description.Substring(0, 250)...</p>
                                }
                                else
                                {
                                    <p>@service.Description</p>
                                }
                            </div>
                            <div class="blog-meta">
                                <p><i class="fa fa-location-dot"></i><a>@service.Location</a></p>
                                @if (service.Ratings.Count > 0)
                                {
                                    <p><i class="fa fa-star"></i><a>@service.Ratings.Average(x => x.Value)/5</a></p>
                                }
                                else
                                {
                                    <p><i class="fa fa-star"></i><a>0/0</a></p>
                                }
                                <p><i class="fa fa-comments"></i><a>@service.Comments.Count</a></p>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</body>
</html>